{"remainingRequest":"C:\\Users\\darks\\Documents\\GitHub\\SIIL-Diciembre2020\\siil-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\darks\\Documents\\GitHub\\SIIL-Diciembre2020\\siil-front\\src\\components\\Empresas.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIIL-Diciembre2020\\siil-front\\src\\components\\Empresas.vue","mtime":1608441044846},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIIL-Diciembre2020\\siil-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1607976917000},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIIL-Diciembre2020\\siil-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1607976917000},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIIL-Diciembre2020\\siil-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1607976917000},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIIL-Diciembre2020\\siil-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1607976917000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGFycmF5RW1wcmVzYXM6IFtdLA0KICAgICAgaFRCRW1wcmVzYXM6IFsNCiAgICAgICAgeyB0ZXh0OiAiTm9tYnJlIiwgdmFsdWU6ICJub21icmUiLCBjbGFzczonYmx1ZS1ncmV5IGxpZ2h0ZW4tNCAnIH0sDQogICAgICAgIHsgdGV4dDogIkRpcmVjY2lvbiIsIHZhbHVlOiAiZGlyZWNjaW9uIiAsIGNsYXNzOidibHVlLWdyZXkgbGlnaHRlbi00ICd9LA0KICAgICAgICB7IHRleHQ6ICJUZWxlZm9ubyIsIHZhbHVlOiAidGVsZWZvbm8iLCBjbGFzczonYmx1ZS1ncmV5IGxpZ2h0ZW4tNCAnIH0sDQogICAgICAgIHsgdGV4dDogIkVuY2FyZ2FkbyIsIHZhbHVlOiAiZW5jYXJnYWRvIiAsIGNsYXNzOidibHVlLWdyZXkgbGlnaHRlbi00ICd9LA0KICAgICAgICB7IHRleHQ6ICJDb3JyZW8iLCB2YWx1ZTogImNvcnJlbyIgLCBjbGFzczonYmx1ZS1ncmV5IGxpZ2h0ZW4tNCAnfSwNCiAgICAgICAgeyB0ZXh0OiAiVGVsLkVuY2FyZ2FkbyIsIHZhbHVlOiAidGVsZW5jYXJnYWRvIiAsIGNsYXNzOidibHVlLWdyZXkgbGlnaHRlbi00ICd9LA0KICAgICAgICB7IHRleHQ6ICJBcmVhIiwgdmFsdWU6ICJpZGFyZWEiLCBjbGFzczonYmx1ZS1ncmV5IGxpZ2h0ZW4tNCAnIH0sDQogICAgICAgIHsgdGV4dDogIkFjY2lvbmVzIiwgdmFsdWU6ICJhY3Rpb24iLCBzb3J0YWJsZTogZmFsc2UsIGFsaWduOiAiY2VudGVyIiwgY2xhc3M6J2JsdWUtZ3JleSBsaWdodGVuLTQgJyB9DQogICAgICBdLA0KICAgICAgbG9hZGVyOiBmYWxzZSwNCiAgICAgIHNlYXJjaEVtcHJlc2E6ICIiLA0KICAgICAgbW9kYWxFbXByZXNhOiBmYWxzZSwNCiAgICAgIGxpc3Rjb29yZGluYWRvcmVzOltdLA0KICAgICAgbGlzdGFyZWE6W10sDQogICAgICBlbXByZXNhOiB7DQogICAgICAgIGlkOiBudWxsLA0KICAgICAgICBub21icmU6ICIiLA0KICAgICAgICBkaXJlY2Npb246IiIsDQogICAgICAgIHRlbGVmb25vOiIiLA0KICAgICAgICBlbmNhcmdhZG86IiIsDQogICAgICAgIGNvcnJlbzoiIiwNCiAgICAgICAgdGVsZW5jYXJnYWRvOiIiLA0KICAgICAgICBpZGFyZWE6ICIiLA0KICAgICAgICANCiAgICAgICAgDQogICAgICB9LA0KICAgICAgdmFsaWRGb3JtOiB0cnVlLA0KICAgICAgc25hY2tiYXI6IGZhbHNlLA0KICAgICAgbXNqU25hY2tCYXI6ICIiLA0KICAgICAgZXJyb3JzTm9tYnJlOiBbXSwNCiAgICAgIGVkaXRlZEVtcHJlc2E6IDAsDQogICAgICBwaG9uZVJ1bGVzOiBbDQogICAgICAgIHYgPT4gL14oWzAtOV0pKiQvLnRlc3QodikgfHwgJ0Zvcm1hdG8gbm8gdmFsaWRvJywNCiAgICAgIF0sDQogICAgICBlbWFpbFJ1bGVzOiBbIA0KICAgICAgICB2ID0+IC9eXHcrKFsuLV0/XHcrKSpAXHcrKFsuLV0/XHcrKSooXC5cd3syLDN9KSskLy50ZXN0KHYpIHx8ICdFLW1haWwgaW52YWxpZG8nDQogICAgICBdDQogICAgfTsNCiAgICANCiAgfSwNCiAgIGNvbXB1dGVkOiB7DQogICAgICBmb3JtVGl0bGUoKXsNCiAgICAgICAgcmV0dXJuIHRoaXMuZW1wcmVzYS5pZCA9PSBudWxsDQogICAgICAgID8gIkFncmVnYXIgRW1wcmVzYSINCiAgICAgICAgOiAiQWN0dWFsaXphciBFbXByZXNhIjsNCiAgICAgIH0sDQogICAgICBidG5UaXRsZSgpew0KICAgICAgICByZXR1cm4gdGhpcy5lbXByZXNhLmlkID09IG51bGwgPyAiR3VhcmRhciIgOiAiQWN0dWFsaXphciI7DQogICAgICB9LA0KICAgIH0sDQogICAgDQogICAgbWV0aG9kczogew0KICAgICAgZmV0Y2hFbXByZXNhKCkgeyAgDQogICAgICAgIGxldCB0b2tlbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuUycpOw0KICAgICAgICBsZXQgbWUgPSB0aGlzLA0KICAgICAgICAgaGVhZGVyID0gew0KICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIrIHRva2VuLA0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgIA0KICAgICAgICBtZS5sb2FkZXIgPSB0cnVlOw0KICAgICAgICBtZS4kaHR0cC5nZXQoYCR7bWUuJHVybH0vZW1wcmVzYXNgLGhlYWRlcikNCiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upew0KICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkNCiAgICAgICAgICBtZS5hcnJheUVtcHJlc2FzID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgICBtZS5sb2FkZXIgPSBmYWxzZTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsNCiAgICAgICAgICBtZS5sb2FkZXIgPSBmYWxzZTsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgIH0pOw0KICAgICAgfSwNCiAgICAgIGZldGNodXN1YXJpb3MoKSB7DQogICAgICBsZXQgbWUgPSB0aGlzOw0KICAgICAgbWUubG9hZGVyID0gdHJ1ZTsNCiAgICAgIA0KICAgICAgIG1lLiRodHRwLmdldChgJHttZS4kdXJsfS91c3Vhcmlvc2AgKQ0KICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkgew0KICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOw0KICAgICAgICAgIG1lLmxpc3Rjb29yZGluYWRvcmVzID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgICBtZS5sb2FkZXIgPSBmYWxzZTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7DQogICAgICAgICAgbWUubG9hZGVyID0gZmFsc2U7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgICBmZXRjaEFyZWEoKSB7DQogICAgICBsZXQgbWUgPSB0aGlzOw0KICAgICAgbWUubG9hZGVyID0gdHJ1ZTsNCiAgICAgIA0KICAgICAgIG1lLiRodHRwLmdldChgJHttZS4kdXJsfS9hcmVhc2ApDQogICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQogICAgICAgICAgbWUubGlzdGFyZWEgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICAgIG1lLmxvYWRlciA9IGZhbHNlOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsNCiAgICAgICAgICBtZS5sb2FkZXIgPSBmYWxzZTsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgIH0pOw0KICAgIH0sDQogIA0KICAgICAgY2VycmFyTW9kYWwoKXsNCiAgICAgICAgbGV0IG1lID0gdGhpczsNCiAgICAgICAgbWUubW9kYWxFbXByZXNhID0gZmFsc2U7DQogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgIG1lLmVtcHJlc2EgPSB7DQogICAgICAgICAgICBpZDpudWxsLA0KICAgICAgICAgICAgICBub21icmU6ICIiLA0KICAgICAgICAgICAgICAgIGRpcmVjY2lvbjoiIiwNCiAgICAgICAgICAgICAgICB0ZWxlZm9ubzoiIiwNCiAgICAgICAgICAgICAgICBjb3JyZW86IiIsDQogICAgICAgICAgICAgICAgdGVsZW5jYXJnYWRvOiIiLA0KICAgICAgICAgICAgICAgIGlkYXJlYTogIiIsDQogICAgICAgICAgICAgICAgaWR1c3VhcmlvOiAiIg0KICAgICAgICAgIH07DQogICAgICAgICAgbWUucmVzZXRWYWxpZGF0aW9uKCk7DQogICAgICAgIH0sIDMwMCk7DQogICAgICB9LA0KICAgICAgcmVzZXRWYWxpZGF0aW9uKCkgew0KICAgICAgICBsZXQgbWUgPSB0aGlzOw0KICAgICAgICBtZS5lcnJvcnNOb21icmUgPSBbXTsNCiAgICAgICAgbWUuJHJlZnMuZm9ybUVtcHJlc2FzLnJlc2V0VmFsaWRhdGlvbigpOw0KICAgICAgfSwNCiAgICAgIHNob3dNb2RhbEVkaXRhcihlbXByZXNhKSB7DQogICAgICAgIGxldCBtZSA9IHRoaXM7DQogICAgICAgIG1lLmVkaXRlZEVtcHJlc2EgPSBtZS5hcnJheUVtcHJlc2FzLmluZGV4T2YoZW1wcmVzYSk7DQogICAgICAgIG1lLmVtcHJlc2EgPSBPYmplY3QuYXNzaWduKHt9LGVtcHJlc2EpOw0KICAgICAgICBtZS5tb2RhbEVtcHJlc2EgPSB0cnVlOw0KICAgICAgfSwNCiAgICAgIC8qc2F2ZUFyZWFzKCkgew0KICAgICAgICBsZXQgbWUgPSB0aGlzOw0KICAgICAgIA0KICAgICAgICBpZihtZS4kcmVmcy5mb3JtQXJlYXMudmFsaWRhdGUoKSkgew0KICAgICAgICAgIGxldCBhY2Npb24gPSBtZS5hcmVhcy5pZCA9PSBudWxsID8gImFkZCIgOiAidXBkIjsNCiAgICAgICAgICBtZS5sb2FkZXIgPSB0cnVlOw0KICAgICAgICAgIG1lLiRodHRwDQogICAgICAgICAgICAucG9zdChgJHttZS4kdXJsfS9hcmVhc2AsIG1lLmFyZWFzKQ0KICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgbWUudmVyaWZpY2FyQWNjaW9uRGF0byhyZXNwb25zZS5kYXRhLCByZXNwb25zZS5zdGF0dXMsIGFjY2lvbik7DQogICAgICAgICAgICAgIG1lLmNlcnJhck1vZGFsKCk7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgICAgICAgICAgLy80MDkgY29uZmxpY3RzIEVycm9yIChQcm92ZWVkb3IgeWEgZXhpc3RlIGVuIGxhIGJhc2UgZGUgZGF0b3MpDQogICAgICAgICAgICAgIGlmKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDkpIHsNCiAgICAgICAgICAgICAgICBtZS5zZXRNZXNzYWdlVG9TbmFja0JhcigiQXJlYXMgWWEgRXhpc3RlbnRlIiwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgbWUuZXJyb3JzTm9tYnJlID0gWyJOb21icmUgZGUgbGEgQXJlYXMgeWEgRXhpc3RlbnRlIl07DQogICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICBtZS4kc3dhbCgiRXJyb3IiLCAiT2N1cnJpZG8gVW4gRXJyb3IgSW50ZW50ZSBkZSBOdWV2b3ZhbWVudGUiLCAiZXJyb3IiKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBtZS5sb2FkZXIgPSBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAvL3BhcmEgYWN0dWFsaXphcg0KICAgICAgICAgICAgbWUuJGh0dHAucHV0KCcvYXJlYXMvJyttZS5hcmVhLmlkLCBtZS5hcmVhKQ0KICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgbWUudmVyaWZpY2FyQWNjaW9uRGF0byhyZXNwb25zZS5kYXRhLCByZXNwb25zZS5zdGF0dXMsICJ1cGQiKTsNCiAgICAgICAgICAgICAgICAgICAgbWUuY2VycmFyTW9kYWwoKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgICAgICBtZS5sb2FkZXIgPSBmYWxzZTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSwqLw0KICAgICAgc2F2ZUVtcHJlc2EoKSB7DQogICAgICBsZXQgbWUgPSB0aGlzOw0KICAgICAgaWYgKG1lLiRyZWZzLmZvcm1FbXByZXNhcy52YWxpZGF0ZSgpKSB7DQogICAgICAgICBsZXQgYWNjaW9uID0gbWUuZW1wcmVzYS5pZCA9PSBudWxsID8gImFkZCIgOiAidXBkIjsNCiAgICAgICAgbWUubG9hZGVyID0gdHJ1ZTsNCiAgICAgICAgaWYoYWNjaW9uPT0iYWRkIil7DQogICAgICAgICAgbWUuZW1wcmVzYVsiaWR1c3VhcmlvIl0gPSB0aGlzLiRzdG9yZS5zdGF0ZS51c3VhcmlvTG9nLmlkOw0KICAgICAgICAgICBtZS4kaHR0cC5wb3N0KGAke21lLiR1cmx9L2VtcHJlc2FzYCwgbWUuZW1wcmVzYSkNCiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQogICAgICAgICAgICBtZS52ZXJpZmljYXJBY2Npb25EYXRvKHJlc3BvbnNlLmRhdGEsIHJlc3BvbnNlLnN0YXR1cywgYWNjaW9uKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgbWUuY2VycmFyTW9kYWwoKTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikgew0KICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICAgICAgLy80MDkgQ29uZmxpY3RzIEVycm9yIChQcm92ZWVkb3IgWWEgRXhpc3RlbnRlIEVuIGxhIEJEKQ0KICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDkpIHsNCiAgICAgICAgICAgICAgbWUuc2V0TWVzc2FnZVRvU25hY2tCYXIoIkVtcHJlc2EgWWEgRXhpc3RlIiwgdHJ1ZSk7DQogICAgICAgICAgICAgIG1lLmVycm9yc05vbWJyZSA9IFsiTm9tYnJlIERlIEVtcHJlc2EgRXhpc3RlbnRlIl07DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBtZS4kc3dhbCgiRXJyb3IiLCAiT2N1cnJpbyBVbiBFcnJvciBJbnRlbnRlIE51ZXZhbWVudGUiLCAiZXJyb3IiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG1lLmxvYWRlciA9IGZhbHNlOw0KICAgICAgICAgIH0pOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIC8vcGFyYSBhY3R1YWxpemFyDQogICAgICAgICAgICAgbWUuZW1wcmVzYVsiaWR1c3VhcmlvIl0gPSB0aGlzLiRzdG9yZS5zdGF0ZS51c3VhcmlvTG9nLmlkOw0KICAgICAgICAgICAgbWUuJGh0dHAucHV0KGAke21lLiR1cmx9L2VtcHJlc2FzL2ArIG1lLmVtcHJlc2EuaWQsbWUuZW1wcmVzYSkNCiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOw0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXMpOw0KICAgICAgICAgICAgICBtZS52ZXJpZmljYXJBY2Npb25EYXRvKHJlc3BvbnNlLmRhdGEsIHJlc3BvbnNlLnN0YXR1cywgInVwZCIpOw0KICAgICAgICAgICAgICAgbWUuY2VycmFyTW9kYWwoKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgICAgICBtZS5sb2FkZXIgPSBmYWxzZTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgDQogICAgICB9DQogICAgfSwNCiAgICAgIHNldE1lc3NhZ2VUb1NuYWNrQmFyKG1zaiwgZXN0YWRvKSB7DQogICAgICAgIGxldCBtZSA9IHRoaXM7DQogICAgICAgIG1lLnNuYWNrYmFyID0gZXN0YWRvOw0KICAgICAgICBtZS5tc2pTbmFja0JhciA9IG1zajsNCiAgICAgIH0sDQogICAgICBkZWxldGVFbXByZXNhcyhlbXByZXNhKSB7DQogICAgICAgIGxldCBtZSA9IHRoaXM7DQogICAgICAgIA0KICAgICAgICBtZS5lZGl0ZWRFbXByZXNhID0gbWUuYXJyYXlFbXByZXNhcy5pbmRleE9mKGVtcHJlc2EpOw0KICAgICAgICAgY29uc3QgVG9hc3QgPSBtZS4kc3dhbC5taXhpbih7DQogICAgICAgICAgIHRvYXN0OiB0cnVlLA0KICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1lbmQiLA0KICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogdHJ1ZSwNCiAgICAgICAgICAgdGltZXI6IDMwMDANCiAgICAgICAgIH0pOw0KICAgICAgICAgbWUuJHN3YWwoew0KICAgICAgICAgICB0aXRsZTogIkVsaW1pbmFyIEVtcHJlc2E/IiwNCiAgICAgICAgICAgdGV4dDogIlVuYSB2ZXogcmVhbGl6YWRhIGxhIGFjY2lvbiBubyBzZSBwb2RyYSByZXZlcnRpciAiLA0KICAgICAgICAgICBpY29uOiAicXVlc3Rpb24iLA0KICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLA0KICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlNpIiwNCiAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIk5vIiwNCiAgICAgICAgICAgcmV2ZXJzZUJ1dHRvbnM6IHRydWUsDQogICAgICAgICAgIGZvY3VzQ29uZmlybTogZmFsc2UsDQogICAgICAgICAgIGZvY3VzQ2FuY2VsOiB0cnVlLA0KICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUNCiAgICAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsNCiAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgew0KICAgICAgICAgICAgIG1lLmxvYWRlciA9IHRydWU7DQogICAgICAgICAgICAgbWUuJGh0dHANCiAgICAgICAgICAgICAgLmRlbGV0ZShgJHttZS4kdXJsfS9lbXByZXNhcy9gKyBlbXByZXNhLmlkKQ0KICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgbWUudmVyaWZpY2FyQWNjaW9uRGF0byhyZXNwb25zZS5kYXRhLCByZXNwb25zZS5zdGF0dXMsICJkZWwiKTsNCiAgICAgICAgICAgICAgICBtZS5sb2FkZXIgPSBmYWxzZTsNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7DQogICAgICAgICAgICAgICAgaWYoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDUxMCl7DQogICAgICAgICAgICAgICAgICBUb2FzdC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgaWNvbjogImVycm9yIiwNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJObyBzZSBwdWVkZSBlbGltaW5hciBlc3RhIEVtcHJlc2EsIHRpZW5lIHJlZ2lzdHJhZG9zIg0KICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIG1lLmxvYWRlciA9IGZhbHNlOw0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgfQ0KICAgICAgICAgfSk7DQogICAgICB9LA0KICAgICAgdmVyaWZpY2FyQWNjaW9uRGF0byhhcmVhcywgc3RhdHVzQ29kZSwgYWNjaW9uKSB7DQogICAgICAgIGxldCBtZSA9IHRoaXM7DQoNCiAgICAgICAgY29uc3QgVG9hc3QgPSBtZS4kc3dhbC5taXhpbih7DQogICAgICAgICAgdG9hc3Q6IHRydWUsDQogICAgICAgICAgcG9zaXRpb246ICJib3R0b20tZW5kIiwNCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogdHJ1ZSwNCiAgICAgICAgICB0aW1lcjogMzAwMA0KICAgICAgICB9KTsNCg0KICAgICAgICBzd2l0Y2ggKGFjY2lvbikgew0KICAgICAgICAgIGNhc2UgImFkZCI6DQogICAgICAgICAgICAvL0FncmVnbyBhbCBhcnJheSBkZSBjYXRlZ29yaWFzIGVsIG9iamV0byBxdWUgZGV2dWVsdmUgZWwgYmFja2VuZA0KICAgICAgICAgICAgbWUuYXJyYXlFbXByZXNhcy51bnNoaWZ0KGFyZWFzKTsNCiAgICAgICAgICAgIHRoaXMuZmV0Y2hFbXByZXNhKCk7IA0KICAgICAgICAgICAgVG9hc3QuZmlyZSh7DQogICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwNCiAgICAgICAgICAgICAgdGl0bGU6ICJFbXByZXNhIFJlZ2lzdHJhZGEgY29uIEV4aXRvIg0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBtZS5sb2FkZXIgPSBmYWxzZTsNCiAgICAgICAgICAgIGJyZWFrOw0KDQogICAgICAgICAgY2FzZSAidXBkIjoNCiAgICAgICAgICAgIC8vQWN0dWFsaXphbmRvIGFsIGFycmF5IGRlIGNhdGVnb3JpYXMgZWwgb2JqZXRvIHF1ZSBkZXZ1ZWx2ZSBlbCBCYWNrZW5kIHlhIGNvbiBsb3MgZGF0b3MNCiAgICAgICAgICAgIC8vT2JqZWN0LmFzc2lnbihtZS5hcnJheUFyZWFzW21lLmVkaXRlZEFyZWFzXSwgYXJlYXMpOw0KICAgICAgICAgICAgdGhpcy5mZXRjaEVtcHJlc2EoKTsgDQogICAgICAgICAgICBUb2FzdC5maXJlKHsNCiAgICAgICAgICAgICAgaWNvbjoic3VjY2VzcyIsDQogICAgICAgICAgICAgIHRpdGxlOiAiRW1wcmVzYSBBY3R1YWxpemFkYSBjb24gRXhpdG8iDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIG1lLmxvYWRlciA9IGZhbHNlOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgY2FzZSAiZGVsIjoNCiAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID09IDIwMCkgew0KICAgICAgICAgICAgICB0cnl7DQogICAgICAgICAgICAgICAgLy9zZSBlbGltaW5hIGRlbCBhcnJheSBkZSBjYXRlZ29yaWFzIGFjdGl2b3Mgc2kgdG9kbyBlc3RhIGJpZW4gZW4gZWwgYmFja2VuZA0KICAgICAgICAgICAgICAgIG1lLmFycmF5RW1wcmVzYXMuc3BsaWNlKG1lLmVkaXRlZEVtcHJlc2EsIDEpOw0KICAgICAgICAgICAgICAgIC8vc2UgbGFuemEgbWVuc2FqZSBmaW5hbA0KICAgICAgICAgICAgICAgIG1lLiRzd2FsLmZpcmUoIkVsaW1pbmFkbyIsICJFbXByZXNhIEVsaW1pbmFkYSIsICJzdWNjZXNzIik7DQogICAgICAgICAgICAgIH1jYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgVG9hc3QuZmlyZSh7DQogICAgICAgICAgICAgICAgaWNvbjogImVycm9yIiwNCiAgICAgICAgICAgICAgICB0aXRsZTogIk9jdXJyaWRvIHVuIEVycm9yIEludGVudGUgTnVldmFtZW50ZSINCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgICAgfSwNCg0KICAgIH0sDQogICAgbW91bnRlZCgpIHsNCiAgICAgICANCiAgICAgIGxldCB4ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW5TJyk7DQogICAgICBpZih4ICE9IG51bGwpew0KICAgICAgICB0aGlzLmZldGNoRW1wcmVzYSgpOw0KICAgICAgICB0aGlzLmZldGNodXN1YXJpb3MoKTsNCiAgICAgICAgdGhpcy5mZXRjaEFyZWEoKTsNCiAgICAgIH1lbHNlew0KICAgICAgICAgDQogICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJykNCiAgICAgIH0NCiAgICAgICANCiAgICB9LA0KICB9Ow0K"},{"version":3,"sources":["Empresas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"Empresas.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <div class=\"md-layout-item md-medium-size-100 md-xsmall-size-100 md-size-100\">\r\n      <v-overlay :value=\"loader\" :z-index=\"'99999999'\">\r\n        <v-progress-circular indeterminate size=\"80\" color=\"grey darken-4\"></v-progress-circular>\r\n      </v-overlay>\r\n      <v-card>\r\n        <v-card-title>\r\n          Listado de Empresas\r\n          <div class=\"flex-grow-1\"></div>\r\n          <v-text-field v-model=\"searchEmpresa\" label=\"Buscar Empresa\" hide-details></v-text-field>\r\n        </v-card-title>\r\n        <v-data-table\r\n          :headers=\"hTBEmpresas\"\r\n          :items=\"arrayEmpresas\"\r\n          :footer-props=\"{\r\n            'items-per-page-options': [5,10, 20, 30,40],\r\n            'items-per-page-text' : 'Registros Por PÃ¡gina'\r\n          }\"\r\n          :items-per-page=\"5\"\r\n          :search=\"searchEmpresa\"\r\n          multi-sort\r\n          class=\"elevation-1\"\r\n        >\r\n          <!-- Template Para Modal de Actualizar y Agregar Area -->\r\n\r\n          <template v-slot:top>\r\n            <v-toolbar flat color=\"white\">\r\n              <div class=\"flex-grow-1\"></div>\r\n              <v-dialog v-model=\"modalEmpresa\" persistent max-width=\"700px\">\r\n                <template v-slot:activator=\"{ on }\">\r\n                  <v-btn elevation=\"10\" color=\"grey darken-3\" dark class=\"mb-2\" v-on=\"on\">\r\n                    Agregar&nbsp;\r\n                    <v-icon>mdi-plus-box-multiple-outline</v-icon>\r\n                  </v-btn>\r\n                </template>\r\n                <v-card>\r\n                  <v-card-title class=\"headline grey lighten-2\" primary-titles>\r\n                    <span class=\"headline\" v-text=\"formTitle\"></span>\r\n                  </v-card-title>\r\n                  <v-card-text>\r\n                    <v-container>\r\n                      <v-form ref=\"formEmpresas\" v-model=\"validForm\" >\r\n                        <v-text-field\r\n                          append-icon=\"mdi-folder-outline\"\r\n                          v-model=\"empresa.nombre\"\r\n                          @keyup=\"errorsNombre = []\"\r\n                          :rules=\"[v => !!v || 'Nombre Es Requerido']\"\r\n                          label=\"Nombre\"\r\n                          required\r\n                          \r\n                        ></v-text-field> \r\n\r\n                        <v-text-field\r\n                          append-icon=\"mdi-folder-outline\"\r\n                          v-model=\"empresa.direccion\"\r\n                          @keyup=\"errorsNombre = []\"\r\n                          :rules=\"[v => !!v || 'La Direccion Es Requerida']\"\r\n                          label=\"Direccion\"\r\n                          required\r\n                          \r\n                        ></v-text-field> \r\n\r\n                        <v-text-field\r\n                          append-icon=\"mdi-folder-outline\"\r\n                          v-model=\"empresa.telefono\"\r\n                          @keyup=\"errorsNombre = []\"\r\n                          :rules=\"phoneRules\"\r\n                          label=\"Telefono\"\r\n                          required\r\n                          :error-messages=\"errorsNombre\"\r\n                          maxlength=\"8\"\r\n                        ></v-text-field> \r\n\r\n                        <v-text-field\r\n                          append-icon=\"mdi-folder-outline\"\r\n                          v-model=\"empresa.encargado\"\r\n                          @keyup=\"errorsNombre = []\"\r\n                          :rules=\"[v => !!v || 'El Encargado Es Requerido']\"\r\n                          label=\"Encargado\"\r\n                          required\r\n                          \r\n                        ></v-text-field> \r\n                        <v-text-field\r\n                          append-icon=\"mdi-folder-outline\"\r\n                          v-model=\"empresa.correo\"\r\n                          @keyup=\"errorsNombre = []\"\r\n                          :rules=\"emailRules\"\r\n                          label=\"Correo\"\r\n                          required\r\n                          :error-messages=\"errorsNombre\"\r\n                        ></v-text-field> \r\n                         <v-text-field\r\n                          append-icon=\"mdi-folder-outline\"\r\n                          v-model=\"empresa.telencargado\"\r\n                          @keyup=\"errorsNombre = []\"\r\n                          :rules=\"phoneRules\"\r\n                          label=\"Tel.Encargado\"\r\n                          required\r\n                          :error-messages=\"errorsNombre\"\r\n                          maxlength=\"8\"\r\n                        ></v-text-field> \r\n\r\n                        <v-autocomplete\r\n                        v-model=\"empresa.idarea\"\r\n                        label=\"Seleccionar Area\"\r\n                         :rules=\"[v => !!v || 'Este Campor es requerido']\"\r\n                        :items=\"listarea\"\r\n                        :item-text=\"'nombre'\"\r\n                        :item-value=\"'id'\"\r\n                    \r\n                      ></v-autocomplete>\r\n\r\n                      <!--<v-select\r\n                     \r\n                        v-model=\"empresa.idusuario\"\r\n                        label=\"Seleccionar usuario\"\r\n                        :rules=\"[v => !!v || 'Este Campor es requerido']\"\r\n                        :items=\"listcoordinadores\"\r\n                        :item-text=\"'nombres'\"\r\n                        :item-value=\"'id'\"\r\n                    \r\n                      ></v-select>-->                  \r\n                      </v-form>\r\n                    </v-container>\r\n                  </v-card-text>\r\n                  <v-divider></v-divider>\r\n                  <v-card-actions>\r\n                    <div class=\"flex-grow-1\"></div>\r\n                    <v-btn color=\"red darken-1\" text @click=\"cerrarModal\">Cerrar</v-btn>\r\n                    <v-btn\r\n                      color=\"info darken-1\"\r\n                      :disabled=\"!validForm\"\r\n                      @click=\"saveEmpresa()\"\r\n                      text\r\n                      v-text=\"btnTitle\"\r\n                    ></v-btn>\r\n                  </v-card-actions>\r\n                </v-card>\r\n              </v-dialog>\r\n            </v-toolbar>\r\n</template>\r\n\r\n       \r\n          <!-- Template que va en la tabla en la columna de Acciones (Editar,Desactivar) -->\r\n\r\n         <template v-slot:item.action=\"{item}\">\r\n        <v-tooltip top>\r\n          <template v-slot:activator=\"{on}\">\r\n            <v-btn\r\n              color=\"success\"            \r\n              elevation=\"8\"\r\n              small\r\n              fab\r\n              dark\r\n              :disabled=\"item.id<0\"\r\n              v-on=\"on\"\r\n              @click=\"showModalEditar(item)\"\r\n            >\r\n            <v-icon>create</v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <span>Actualizar Datos</span>\r\n        </v-tooltip>\r\n        &nbsp;&nbsp;\r\n          \r\n        <v-tooltip top>\r\n          <template v-slot:activator=\"{on}\">\r\n            <v-btn\r\n              color=\"info\"            \r\n              elevation=\"8\"\r\n              small\r\n              dark\r\n              fab\r\n              :disabled=\"item.id < 0\"\r\n              v-on=\"on\"\r\n              @click=\"deleteEmpresas(item)\"\r\n            >\r\n            <v-icon>delete</v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <span>Eliminar Registro</span>\r\n        </v-tooltip>\r\n      </template>\r\n        </v-data-table>\r\n      </v-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      arrayEmpresas: [],\r\n      hTBEmpresas: [\r\n        { text: \"Nombre\", value: \"nombre\", class:'blue-grey lighten-4 ' },\r\n        { text: \"Direccion\", value: \"direccion\" , class:'blue-grey lighten-4 '},\r\n        { text: \"Telefono\", value: \"telefono\", class:'blue-grey lighten-4 ' },\r\n        { text: \"Encargado\", value: \"encargado\" , class:'blue-grey lighten-4 '},\r\n        { text: \"Correo\", value: \"correo\" , class:'blue-grey lighten-4 '},\r\n        { text: \"Tel.Encargado\", value: \"telencargado\" , class:'blue-grey lighten-4 '},\r\n        { text: \"Area\", value: \"idarea\", class:'blue-grey lighten-4 ' },\r\n        { text: \"Acciones\", value: \"action\", sortable: false, align: \"center\", class:'blue-grey lighten-4 ' }\r\n      ],\r\n      loader: false,\r\n      searchEmpresa: \"\",\r\n      modalEmpresa: false,\r\n      listcoordinadores:[],\r\n      listarea:[],\r\n      empresa: {\r\n        id: null,\r\n        nombre: \"\",\r\n        direccion:\"\",\r\n        telefono:\"\",\r\n        encargado:\"\",\r\n        correo:\"\",\r\n        telencargado:\"\",\r\n        idarea: \"\",\r\n        \r\n        \r\n      },\r\n      validForm: true,\r\n      snackbar: false,\r\n      msjSnackBar: \"\",\r\n      errorsNombre: [],\r\n      editedEmpresa: 0,\r\n      phoneRules: [\r\n        v => /^([0-9])*$/.test(v) || 'Formato no valido',\r\n      ],\r\n      emailRules: [ \r\n        v => /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(v) || 'E-mail invalido'\r\n      ]\r\n    };\r\n    \r\n  },\r\n   computed: {\r\n      formTitle(){\r\n        return this.empresa.id == null\r\n        ? \"Agregar Empresa\"\r\n        : \"Actualizar Empresa\";\r\n      },\r\n      btnTitle(){\r\n        return this.empresa.id == null ? \"Guardar\" : \"Actualizar\";\r\n      },\r\n    },\r\n    \r\n    methods: {\r\n      fetchEmpresa() {  \r\n        let token = sessionStorage.getItem('tokenS');\r\n        let me = this,\r\n         header = {\r\n              headers: {\r\n                \"Authorization\": \"Bearer \"+ token,\r\n              },\r\n            };\r\n               \r\n        me.loader = true;\r\n        me.$http.get(`${me.$url}/empresas`,header)\r\n        .then(function(response){\r\n            console.log(response.data)\r\n          me.arrayEmpresas = response.data;\r\n          me.loader = false;\r\n        })\r\n        .catch(function(error){\r\n          me.loader = false;\r\n          console.log(error);\r\n        });\r\n      },\r\n      fetchusuarios() {\r\n      let me = this;\r\n      me.loader = true;\r\n      \r\n       me.$http.get(`${me.$url}/usuarios` )\r\n        .then(function(response) {\r\n          console.log(response.data);\r\n          me.listcoordinadores = response.data;\r\n          me.loader = false;\r\n        })\r\n        .catch(function(error) {\r\n          me.loader = false;\r\n          console.log(error);\r\n        });\r\n    },\r\n     fetchArea() {\r\n      let me = this;\r\n      me.loader = true;\r\n      \r\n       me.$http.get(`${me.$url}/areas`)\r\n        .then(function(response) {\r\n          me.listarea = response.data;\r\n          me.loader = false;\r\n        })\r\n        .catch(function(error) {\r\n          me.loader = false;\r\n          console.log(error);\r\n        });\r\n    },\r\n  \r\n      cerrarModal(){\r\n        let me = this;\r\n        me.modalEmpresa = false;\r\n        setTimeout(() => {\r\n          me.empresa = {\r\n            id:null,\r\n              nombre: \"\",\r\n                direccion:\"\",\r\n                telefono:\"\",\r\n                correo:\"\",\r\n                telencargado:\"\",\r\n                idarea: \"\",\r\n                idusuario: \"\"\r\n          };\r\n          me.resetValidation();\r\n        }, 300);\r\n      },\r\n      resetValidation() {\r\n        let me = this;\r\n        me.errorsNombre = [];\r\n        me.$refs.formEmpresas.resetValidation();\r\n      },\r\n      showModalEditar(empresa) {\r\n        let me = this;\r\n        me.editedEmpresa = me.arrayEmpresas.indexOf(empresa);\r\n        me.empresa = Object.assign({},empresa);\r\n        me.modalEmpresa = true;\r\n      },\r\n      /*saveAreas() {\r\n        let me = this;\r\n       \r\n        if(me.$refs.formAreas.validate()) {\r\n          let accion = me.areas.id == null ? \"add\" : \"upd\";\r\n          me.loader = true;\r\n          me.$http\r\n            .post(`${me.$url}/areas`, me.areas)\r\n            .then(function(response) {\r\n              me.verificarAccionDato(response.data, response.status, accion);\r\n              me.cerrarModal();\r\n            })\r\n            .catch(function(error) {\r\n              console.log(error);\r\n              //409 conflicts Error (Proveedor ya existe en la base de datos)\r\n              if(error.response.status == 409) {\r\n                me.setMessageToSnackBar(\"Areas Ya Existente\", true);\r\n                me.errorsNombre = [\"Nombre de la Areas ya Existente\"];\r\n              }else {\r\n                me.$swal(\"Error\", \"Ocurrido Un Error Intente de Nuevovamente\", \"error\");\r\n              }\r\n              me.loader = false;\r\n            });\r\n            }else{\r\n            //para actualizar\r\n            me.$http.put('/areas/'+me.area.id, me.area)\r\n               .then(function(response) {\r\n                   console.log(response.data);\r\n                    me.verificarAccionDato(response.data, response.status, \"upd\");\r\n                    me.cerrarModal();\r\n            })\r\n          .catch(function(error) {\r\n            console.log(error);\r\n            me.loader = false;\r\n          });\r\n        }\r\n      },*/\r\n      saveEmpresa() {\r\n      let me = this;\r\n      if (me.$refs.formEmpresas.validate()) {\r\n         let accion = me.empresa.id == null ? \"add\" : \"upd\";\r\n        me.loader = true;\r\n        if(accion==\"add\"){\r\n          me.empresa[\"idusuario\"] = this.$store.state.usuarioLog.id;\r\n           me.$http.post(`${me.$url}/empresas`, me.empresa)\r\n            .then(function(response) {\r\n            me.verificarAccionDato(response.data, response.status, accion);\r\n            \r\n            me.cerrarModal();\r\n          })\r\n          .catch(function(error) {\r\n            console.log(error);\r\n            //409 Conflicts Error (Proveedor Ya Existente En la BD)\r\n            if (error.response.status == 409) {\r\n              me.setMessageToSnackBar(\"Empresa Ya Existe\", true);\r\n              me.errorsNombre = [\"Nombre De Empresa Existente\"];\r\n            } else {\r\n              me.$swal(\"Error\", \"Ocurrio Un Error Intente Nuevamente\", \"error\");\r\n            }\r\n            me.loader = false;\r\n          });\r\n        }else{\r\n            //para actualizar\r\n             me.empresa[\"idusuario\"] = this.$store.state.usuarioLog.id;\r\n            me.$http.put(`${me.$url}/empresas/`+ me.empresa.id,me.empresa)\r\n            .then(function(response) {\r\n              console.log(response.data);\r\n              console.log(response.status);\r\n              me.verificarAccionDato(response.data, response.status, \"upd\");\r\n               me.cerrarModal();\r\n            })\r\n          .catch(function(error) {\r\n            console.log(error);\r\n            me.loader = false;\r\n          });\r\n        }\r\n      \r\n      }\r\n    },\r\n      setMessageToSnackBar(msj, estado) {\r\n        let me = this;\r\n        me.snackbar = estado;\r\n        me.msjSnackBar = msj;\r\n      },\r\n      deleteEmpresas(empresa) {\r\n        let me = this;\r\n        \r\n        me.editedEmpresa = me.arrayEmpresas.indexOf(empresa);\r\n         const Toast = me.$swal.mixin({\r\n           toast: true,\r\n           position: \"bottom-end\",\r\n           showConfirmButton: true,\r\n           timer: 3000\r\n         });\r\n         me.$swal({\r\n           title: \"Eliminar Empresa?\",\r\n           text: \"Una vez realizada la accion no se podra revertir \",\r\n           icon: \"question\",\r\n           showCancelButton: true,\r\n           confirmButtonText: \"Si\",\r\n           cancelButtonText: \"No\",\r\n           reverseButtons: true,\r\n           focusConfirm: false,\r\n           focusCancel: true,\r\n           showCloseButton: true\r\n         }).then(result => {\r\n           if (result.value) {\r\n             me.loader = true;\r\n             me.$http\r\n              .delete(`${me.$url}/empresas/`+ empresa.id)\r\n              .then(function(response){\r\n                \r\n                me.verificarAccionDato(response.data, response.status, \"del\");\r\n                me.loader = false;\r\n              })\r\n              .catch(function(error) {\r\n                if(error.response.status == 510){\r\n                  Toast.fire({\r\n                    icon: \"error\",\r\n                    title: \"No se puede eliminar esta Empresa, tiene registrados\"\r\n                  });\r\n                }\r\n                me.loader = false;\r\n              });\r\n           }\r\n         });\r\n      },\r\n      verificarAccionDato(areas, statusCode, accion) {\r\n        let me = this;\r\n\r\n        const Toast = me.$swal.mixin({\r\n          toast: true,\r\n          position: \"bottom-end\",\r\n          showConfirmButton: true,\r\n          timer: 3000\r\n        });\r\n\r\n        switch (accion) {\r\n          case \"add\":\r\n            //Agrego al array de categorias el objeto que devuelve el backend\r\n            me.arrayEmpresas.unshift(areas);\r\n            this.fetchEmpresa(); \r\n            Toast.fire({\r\n              icon: \"success\",\r\n              title: \"Empresa Registrada con Exito\"\r\n            });\r\n            me.loader = false;\r\n            break;\r\n\r\n          case \"upd\":\r\n            //Actualizando al array de categorias el objeto que devuelve el Backend ya con los datos\r\n            //Object.assign(me.arrayAreas[me.editedAreas], areas);\r\n            this.fetchEmpresa(); \r\n            Toast.fire({\r\n              icon:\"success\",\r\n              title: \"Empresa Actualizada con Exito\"\r\n            });\r\n            me.loader = false;\r\n            break;\r\n          case \"del\":\r\n            if (statusCode == 200) {\r\n              try{\r\n                //se elimina del array de categorias activos si todo esta bien en el backend\r\n                me.arrayEmpresas.splice(me.editedEmpresa, 1);\r\n                //se lanza mensaje final\r\n                me.$swal.fire(\"Eliminado\", \"Empresa Eliminada\", \"success\");\r\n              }catch (error) {\r\n                console.log(error);\r\n              }\r\n            }else {\r\n              Toast.fire({\r\n                icon: \"error\",\r\n                title: \"Ocurrido un Error Intente Nuevamente\"\r\n              });\r\n            }\r\n            break;\r\n        }\r\n      },\r\n\r\n    },\r\n    mounted() {\r\n       \r\n      let x = sessionStorage.getItem('tokenS');\r\n      if(x != null){\r\n        this.fetchEmpresa();\r\n        this.fetchusuarios();\r\n        this.fetchArea();\r\n      }else{\r\n         \r\n         this.$router.push('/login')\r\n      }\r\n       \r\n    },\r\n  };\r\n</script>"]}]}